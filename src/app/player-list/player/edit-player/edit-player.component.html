<div class="container-fluid">
  <form [formGroup]="editForm" (submit)="onSubmit()">
    <div class="row">
      <div class="panel panel-default">
        <div class="panel-heading">
          Edit basic info:
        </div>
        <div class="panel-body">
          <div class="col-xs-12 col-sm-10 col-sm-offset-2 col-md-10 col-md-offset-1 text-center">
            <div class="row">
              <div class="col-xs-12 col-sm-4">
                <div class="row">
                  <img src={{pic}} style="max-Height: 150px;max-width: 150px;">
                  <input type="text" *ngIf="false" class="form-control" formControlName="Picture">
                  <!--<canvas #imgCanvas width="150px" height="150px">-->
                  <!--</canvas>-->
                  <!--<app-file-uploader [imageSrc]="pic" [activeColor]="'orangered'" [baseColor]="'lightgray'" style="max-Height: 150px;max-width: 150px;"></app-file-uploader>-->
                </div>
                <br>
                <div class="row">
                  <!--<input type="file"  class="btn btn-primary" (change)="encodeImageFileAsURL($event)"  accept="image/*">-->
                  <input #fileInput type="file" (change)="encodeImageFileAsURL($event)" style="display: none;"
                         accept="image/*"/>
                  <button class="btn btn-primary" type="button" (click)="triggerFile()">Browse</button>
                  <!--<button class="btn btn-primary">-->
                  <!--Browse <input type="file" (change)="encodeImageFileAsURL($event)" style="display: none;" accept="image/*">-->
                  <!--</button>-->
                  <!--<label class="input-group-btn">-->

                  <!--</label>-->
                  <!--<button class="btn btn-success" type="button" (click)="encodeImageFileAsURL(image)">Load</button>-->
                </div>
                <br>
                <!--<div class="row">-->
                  <!--<button class="btn btn-success" [disabled]="!editForm.valid" type="submit">Save</button>-->
                  <!--<button class="btn btn-danger" type="button" (click)="onCancel()">Cancel</button>-->
                  <!--<button *ngIf="editMode" type="button" class="btn btn-default" (click)="onRefresh()">-->
                    <!--<span class="glyphicon glyphicon-refresh"></span> Refresh-->
                  <!--</button>-->
                <!--</div>-->
              </div>

              <div class="col-xs-12 col-sm-8">
                <label for="Name">Name:</label>
                <input type="text" class="form-control" id="Name" formControlName="Name">
                <span *ngIf="!editForm.get('Name').valid && editForm.get('Name').touched" class="help-block">
                  Please enter a valid name!</span>
                <label for="MiddleName">Middle name:</label>
                <input type="text" class="form-control" id="MiddleName" formControlName="MiddleName">
                <span *ngIf="!editForm.get('MiddleName').valid && editForm.get('MiddleName').touched"
                      class="help-block">
                  Please enter a valid middle name!</span>
                <label for="Surname">Surname:</label>
                <input type="text" class="form-control" id="Surname" formControlName="Surname">
                <span *ngIf="!editForm.get('Surname').valid && editForm.get('Surname').touched" class="help-block">
                  Please enter a valid surname!</span>
                <label for="Birthday">Birthday:</label>
                <input type="text"
                       class="form-control"
                       id="Birthday"
                       formControlName="Birthday"
                       placeholder="Date (dd/MM/yyyy)">
                <label for="Since">Since:</label>
                <input type="text"
                       class="form-control"
                       id="Since"
                       formControlName="Since"
                       placeholder="Date (dd/MM/yyyy)">
                <label for="Description">Description:</label>
                <textarea
                  type="text"
                  id="Description"
                  class="form-control"
                  formControlName="Description"
                  rows="6"></textarea>
              </div>
            </div>

          </div>
        </div>
      </div>


    </div>
    <div class="row">
      <div class="panel panel-default">
        <div class="panel-heading">
          Additional info:
        </div>
        <div class="panel-body">
          <div class="col-xs-12 col-sm-10 col-sm-offset-2 col-md-10 col-md-offset-1 text-center">
            <div class="row">
              <div class="col-xs-12 col-sm-10 col-md-6">

                <label for="Height">Height:</label>
                <input type="number" class="form-control" id="Height" formControlName="Height">
                <label for="Weight">Weight:</label>
                <input type="number" class="form-control" id="Weight" formControlName="Weight">
                <label for="Medical">Medical:</label>
                <input type="text"
                       class="form-control"
                       id="Medical"
                       formControlName="Medical"
                       placeholder="Date (dd/MM/yyyy)">
              </div>
              <div class="col-xs-12 col-sm-10 col-md-6">
                <label for="SportsmanId">Sportsman Id:</label>
                <input type="text" class="form-control" id="SportsmanId" formControlName="SportsmanId">
                <label for="PhoneNumber1">PhoneNumber 1:</label>
                <input type="text" class="form-control" id="PhoneNumber1" formControlName="PhoneNumber1">
                <label for="PhoneNumber2">PhoneNumber 2:</label>
                <input type="text" class="form-control" id="PhoneNumber2" formControlName="PhoneNumber2">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="panel panel-default">
        <div class="panel-heading">
          Groups:
          <div class="btn-toolbar pull-right">
            <button class="btn btn-success btn-xs" type="button" (click)="onAddGroup()">
              <span class="glyphicon glyphicon-plus"></span>
            </button>
            <button class="btn btn-default btn-xs" type="button">
              <span class="glyphicon glyphicon-refresh"></span>
            </button>
          </div>
        </div>
        <div class="panel-body">
          <div class="col-xs-12 col-sm-10 col-sm-offset-2 col-md-10 col-md-offset-1">
            <div class="list-group" formArrayName="Groups">
              <div
                class="row"
                *ngFor="let groups of getControls('Groups'); let i = index"
                [formGroupName]="i"
                style="margin-top: 10px;">
                <!--Hidden-->
                <div [hidden]="true">
                  <input
                    type="text"
                    class="form-control"
                    [hidden]="true"
                    formControlName="Name">
                  <input
                    type="text"
                    class="form-control"
                    [hidden]="true"
                    formArrayName="Activities">
                  <input
                    type="text"
                    class="form-control"
                    [hidden]="true"
                    formArrayName="Coaching">
                  <input
                    type="text"
                    class="form-control"
                    [hidden]="true"
                    formArrayName="GroupPlayers">
                </div>
                <!--End of Hidden-->
                <div class="row">

                  <div class="col-xs-8">
                    <select class="form-control" formControlName="Id">
                      <option *ngFor="let singleOne of allGroups"
                              [value]="singleOne.Id"
                              [disabled]="isGroupSelected(singleOne.Id)">
                        {{singleOne.Name}} - {{singleOne.Location}}
                      </option>
                    </select>
                  </div>
                  <div class="col-xs-4">
                    <button
                      type="button"
                      class="btn btn-danger btn-sm"
                      (click)="onDeleteItem('Groups', i)">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </div>
                </div>
                <hr>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="panel panel-default">
        <div class="panel-heading">
          Fees:
          <div class="btn-toolbar pull-right">
            <!--<button class="btn btn-success btn-xs " type="button">-->
            <!--<span class="glyphicon glyphicon-plus"></span>-->
            <!--</button>-->
            <!--<button class="btn btn-default btn-xs " type="button">-->
            <!--<span class="glyphicon glyphicon-refresh"></span>-->
            <!--</button>-->
          </div>
        </div>
        <div class="panel-body">
          <div class="col-xs-12 col-sm-10 col-sm-offset-2 col-md-10 col-md-offset-1">
            <div class="list-group" formArrayName="Fees">
              <div class="row"
                   *ngFor="let fee of getControls('Fees');let i = index"
                   [formGroupName]="i">
                <div [hidden]="true">
                  <input
                    type="text"
                    class="form-control"
                    [hidden]="true"
                    formControlName="Id">
                  <input
                    type="text"
                    class="form-control"
                    [hidden]="true"
                    formControlName="PlayerId">
                  <input
                    type="number"
                    class="form-control"
                    [hidden]="true"
                    formControlName="Month">
                </div>
                <!--End of Hidden-->


                <!--<div class="row">-->
                  <!--<div class="col-xs-3">-->
                    <!--<input-->
                      <!--type="number"-->
                      <!--class="form-control"-->
                      <!--formControlName="Fee"-->
                      <!--placeholder="Fee">-->
                  <!--</div>-->
                  <!--<div class="col-xs-4">-->
                    <!--<input-->
                      <!--type="text"-->
                      <!--class="form-control"-->
                      <!--formControlName="Date"-->
                      <!--placeholder="Date (dd/MM/yyyy)">-->
                  <!--</div>-->
                <div class="row" style="margin-top: 8px">
                  <div class="col-xs-5">
                    <input
                      type="number"
                      class="form-control"
                      formControlName="Fee"
                      placeholder="Fee">
                  </div>
                  <div class="col-xs-7">
                    <div class="col-xs-4 col-sm-offset-1 col-sm-4">
                      <label >{{getFeeMonth(fee)}} ({{getFeeYear(fee)}})</label>
                      <!--<input-->
                        <!--type="text"-->
                        <!--class="form-control"-->
                        <!--[readonly]="true"-->
                        <!--value="{{getFeeMonth(fee) (getFeeYear(fee))}}">-->
                    </div>
                  </div>

                </div>
                <div class="row" style="margin-top: 8px">
                  <div class="col-xs-7">
                    <input
                      type="text"
                      class="form-control"
                      formControlName="Date"
                      placeholder="Date (format: dd/MM/yyy)">
                  </div>
                  <div class="col-xs-offset-1 col-xs-4">
                    <div class="btn-toolbar pull-right">
                      <button
                        type="button"
                        class="btn btn-danger btn-sm"
                        (click)="onDeleteItem('Fees', i)">
                        <span class="glyphicon glyphicon-remove"></span>
                      </button>
                    </div>
                  </div>
                </div>
                  <!--<div class="col-xs-offset-1 col-xs-4">-->
                    <!--<div class="btn-toolbar pull-right">-->
                      <!--<button-->
                        <!--type="button"-->
                        <!--class="btn btn-danger btn-sm"-->
                        <!--(click)="onDeleteItem('Fees', i)">-->
                        <!--<span class="glyphicon glyphicon-remove"></span>-->
                      <!--</button>-->
                    <!--</div>-->
                  <!--</div>-->

              </div>

            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <button class="btn btn-success" [disabled]="!editForm.valid" type="submit">Save</button>
      <button class="btn btn-default" type="button" (click)="onCancel()">Cancel</button>
      <button *ngIf="editMode" class="btn btn-danger pull-right" type="button" (click)="onDelete()">Delete</button>
    </div>
    <br>
  </form>
</div>

